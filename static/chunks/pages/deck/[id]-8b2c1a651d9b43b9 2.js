(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{3090:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/deck/[id]",function(){return n(6989)}])},8700:function(e,t,n){"use strict";n.r(t);var a=n(5893);n(7294);var s=n(1664),r=n.n(s),i=n(1163),c=n(3299);let l=e=>{let t;let n=(0,i.useRouter)(),{data:s,status:l}=(0,c.useSession)();return s?s&&"/decks"===window.location.pathname||s&&window.location.pathname.includes("/deck/")?(e.sendToParent&&e.sendToParent(()=>!0),t=(0,a.jsxs)("nav",{style:{flexDirection:"row"},children:[(0,a.jsxs)("h1",{children:[(0,a.jsx)("span",{children:"AI"})," Lengua "]}),(0,a.jsx)("button",{onClick:()=>(0,c.signOut)(),children:"Log Out"})]})):(e.sendToParent&&e.sendToParent(()=>!0),t=(0,a.jsxs)("nav",{style:{flexDirection:"column"},children:[(0,a.jsxs)("h1",{children:[(0,a.jsx)("span",{children:"AI"})," Lengua "]}),s.user?(0,a.jsxs)("h2",{children:["Hi, ",s.user.name,". Welcome Back!"]}):null,(0,a.jsx)("button",{onClick:()=>(0,c.signOut)(),children:"Log Out"}),(0,a.jsx)(r(),{href:"/decks","data-active":"/"===n.pathname,children:"Decks"})]})):(e.sendToParent&&e.sendToParent(()=>!1),t=(0,a.jsxs)("nav",{children:[(0,a.jsxs)("h1",{children:[(0,a.jsx)("span",{children:"AI"})," Lengua "]}),(0,a.jsx)(r(),{href:"/api/auth/signin","data-active":"/signup"===n.pathname,children:"Login"})]})),(0,a.jsx)(a.Fragment,{children:t})};t.default=l},6989:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return p}});var a=n(5893),s=n(7294),r=n(1163),i=n(8700),c=n(5675),l=n.n(c),o=n(3299),d=n(6104),h=n.n(d);let u=e=>{let{cards:t,deckId:n}=e,c=(0,r.useRouter)(),[d,u]=(0,s.useState)(!1),[p,x]=(0,s.useState)(""),[j,f]=(0,s.useState)(""),[m,g]=(0,s.useState)(),[v,b]=(0,s.useState)(!1),{data:k}=(0,o.useSession)(),y=async(e,t)=>{e.preventDefault();try{u(!0),await fetch("/api/card/delete?id="+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(()=>{c.replace(c.asPath),u(!1)})}catch(e){console.log("error",e),u(!1)}},S=async e=>{e.preventDefault();try{await fetch("/api/card/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({front:p,back:j,deckId:n})}).then(()=>{c.replace(c.asPath)})}catch(e){console.log(e)}},w=async(e,t,n,a)=>{e.preventDefault();try{let e={front:""===p?n:p,back:""===j?a:j,cardId:t};console.log(e),await fetch("/api/card/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(()=>{c.replace(c.asPath)})}catch(e){console.log(e)}g(void 0===m.cardId)};return(0,s.useEffect)(()=>{k||c.push("/")},[t,k]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{sendToParent:b}),(0,a.jsxs)("div",{className:"cards",children:[(0,a.jsxs)("form",{onSubmit:e=>S(e),children:[(0,a.jsxs)("label",{htmlFor:"front",children:["Word",(0,a.jsx)("input",{name:"front",type:"text",onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("label",{htmlFor:"back",children:["Translation",(0,a.jsx)("input",{name:"back",type:"text",onChange:e=>f(e.target.value)})]}),(0,a.jsx)("button",{type:"submit",children:"New Card"})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{children:"Word"}),(0,a.jsx)("h2",{children:"Translation"}),(0,a.jsx)("h2",{children:"Controls"})]}),t.map(e=>(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"cardFront",children:(0,a.jsx)("p",{children:e.front})}),(0,a.jsx)("div",{className:"cardBack",children:(0,a.jsx)("p",{children:e.back})}),(0,a.jsxs)("div",{className:"cardControls",children:[(0,a.jsx)("div",{onClick:t=>y(t,e.id),children:(0,a.jsx)(l(),{src:"/images/trash.png",width:20,height:20,alt:"delete"})}),(0,a.jsx)("div",{onClick:()=>g(e.id),children:(0,a.jsx)(l(),{src:"/images/edit.png",width:20,height:20,alt:"delete"})})]}),m===e.id?(0,a.jsxs)("form",{onSubmit:t=>w(t,e.id,e.front,e.back),children:[(0,a.jsxs)("label",{htmlFor:"front",children:["Front",(0,a.jsx)("input",{name:"front",type:"text",onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("label",{htmlFor:"back",children:["Back",(0,a.jsx)("input",{name:"back",type:"text",onChange:e=>f(e.target.value)})]}),(0,a.jsx)("button",{type:"submit",children:"Submit"})]}):null]},h()()))]})]})};var p=!0;t.default=u},6104:function(e,t,n){var a=n(3454),s=void 0!==a&&a.pid?a.pid.toString(36):"";function r(){var e=Date.now(),t=r.last||e;return r.last=e>t?e:t+1}e.exports=e.exports.default=function(e,t){return(e||"")+""+s+r().toString(36)+(t||"")},e.exports.process=function(e,t){return(e||"")+s+r().toString(36)+(t||"")},e.exports.time=function(e,t){return(e||"")+r().toString(36)+(t||"")}}},function(e){e.O(0,[424,675,774,888,179],function(){return e(e.s=3090)}),_N_E=e.O()}]);