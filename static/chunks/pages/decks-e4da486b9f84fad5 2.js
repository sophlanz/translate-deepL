(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{8736:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/decks",function(){return n(5133)}])},8700:function(e,t,n){"use strict";n.r(t);var s=n(5893);n(7294);var a=n(1664),i=n.n(a),r=n(1163),c=n(3299);let l=e=>{let t;let n=(0,r.useRouter)(),{data:a,status:l}=(0,c.useSession)();return a?a&&"/decks"===window.location.pathname||a&&window.location.pathname.includes("/deck/")?(e.sendToParent&&e.sendToParent(()=>!0),t=(0,s.jsxs)("nav",{style:{flexDirection:"row"},children:[(0,s.jsxs)("h1",{children:[(0,s.jsx)("span",{children:"AI"})," Lengua "]}),(0,s.jsx)("button",{onClick:()=>(0,c.signOut)(),children:"Log Out"})]})):(e.sendToParent&&e.sendToParent(()=>!0),t=(0,s.jsxs)("nav",{style:{flexDirection:"column"},children:[(0,s.jsxs)("h1",{children:[(0,s.jsx)("span",{children:"AI"})," Lengua "]}),a.user?(0,s.jsxs)("h2",{children:["Hi, ",a.user.name,". Welcome Back!"]}):null,(0,s.jsx)("button",{onClick:()=>(0,c.signOut)(),children:"Log Out"}),(0,s.jsx)(i(),{href:"/decks","data-active":"/"===n.pathname,children:"Decks"})]})):(e.sendToParent&&e.sendToParent(()=>!1),t=(0,s.jsxs)("nav",{children:[(0,s.jsxs)("h1",{children:[(0,s.jsx)("span",{children:"AI"})," Lengua "]}),(0,s.jsx)(i(),{href:"/api/auth/signin","data-active":"/signup"===n.pathname,children:"Login"})]})),(0,s.jsx)(s.Fragment,{children:t})};t.default=l},5133:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return j}});var s=n(5893),a=n(7294),i=n(1664),r=n.n(i),c=n(1163),l=n(8700),o=n(5675),d=n.n(o),h=n(3299),u=n(6104),p=n.n(u);let x=e=>{let{decks:t}=e,n=e=>m.pathname===e,{data:i}=(0,h.useSession)(),[o,u]=(0,a.useState)(""),[x,j]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1),m=(0,c.useRouter)(),k=async e=>{e.preventDefault();try{await fetch("/api/deck/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:o})}).then(()=>{m.replace(m.asPath)})}catch(e){console.log(e)}},[v,y]=(0,a.useState)(!1),w=async(e,t)=>{e.preventDefault();try{y(!0),await fetch("/api/deck/delete?id="+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(()=>{m.replace(m.asPath),y(!1)})}catch(e){console.log("error",e),y(!1)}},N=async(e,t)=>{e.preventDefault();try{await fetch("/api/deck/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:o,deckId:t})}).then(()=>{m.replace(m.asPath)})}catch(e){console.log(e)}};return(0,a.useEffect)(()=>{i||m.push("/")},[t,i]),console.log(t),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.default,{sendToParent:g}),(0,s.jsxs)("div",{className:"quote",children:[(0,s.jsxs)("p",{children:['"If you talk to a man in a language he understands, that goes to his ',(0,s.jsx)("span",{style:{fontWeight:"bolder"},children:"head"}),". If you talk to him in his own language, that goes to his ",(0,s.jsx)("span",{style:{fontWeight:"bolder"},children:"heart"}),'."']}),(0,s.jsx)("p",{style:{fontStyle:"italic"},children:" - Nelson Mandela"})]}),(0,s.jsxs)("div",{className:"decks",children:[(0,s.jsxs)("form",{onSubmit:k,children:[(0,s.jsxs)("label",{htmlFor:"newDeckTitle",children:[" Deck Name",(0,s.jsx)("input",{type:"text",name:"newDeckTitle",onChange:e=>u(e.target.value)})]}),(0,s.jsx)("button",{type:"submit",children:"New Deck"})]}),t.map(e=>(0,s.jsxs)("div",{className:"deck",children:[(0,s.jsxs)(r(),{href:"/deck/".concat(e.id),"data-active":n("/"),children:[" ",e.name," "]}),(0,s.jsxs)("div",{className:"deckControls",children:[(0,s.jsx)("div",{onClick:t=>w(t,e.id),children:(0,s.jsx)(d(),{src:"/images/trash.png",alt:"delete",height:20,width:20})}),(0,s.jsx)("div",{onClick:()=>j(!x),children:(0,s.jsx)(d(),{src:"/images/edit.png",alt:"edit",height:20,width:20})})]}),x?(0,s.jsxs)("form",{onSubmit:t=>N(t,e.id),children:[(0,s.jsxs)("label",{htmlFor:"newDeckName",children:["Name",(0,s.jsx)("input",{onChange:e=>u(e.target.value),name:"newDeckName"})]}),(0,s.jsx)("button",{type:"submit",children:"submit"})]}):null]},p()()))]})]})};var j=!0;t.default=x},6104:function(e,t,n){var s=n(3454),a=void 0!==s&&s.pid?s.pid.toString(36):"";function i(){var e=Date.now(),t=i.last||e;return i.last=e>t?e:t+1}e.exports=e.exports.default=function(e,t){return(e||"")+""+a+i().toString(36)+(t||"")},e.exports.process=function(e,t){return(e||"")+a+i().toString(36)+(t||"")},e.exports.time=function(e,t){return(e||"")+i().toString(36)+(t||"")}}},function(e){e.O(0,[424,675,774,888,179],function(){return e(e.s=8736)}),_N_E=e.O()}]);